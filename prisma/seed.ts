import { PrismaClient } from '@prisma/client'
const prisma = new PrismaClient()

async function main() {
  console.log('Seeding categories...')

  const categories = [
    { id: 'cat-0001', name: 'جوراب مردانه', slug: 'mens-socks' },
    { id: 'cat-0002', name: 'جوراب زنانه', slug: 'womens-socks' },
    { id: 'cat-0003', name: 'جوراب ورزشی', slug: 'sport-socks' },
    { id: 'cat-0004', name: 'دستکش مردانه', slug: 'mens-gloves' },
    { id: 'cat-0005', name: 'دستکش زنانه', slug: 'womens-gloves' },
    { id: 'cat-0006', name: 'دستکش کار', slug: 'work-gloves' },
  ]

  for (const c of categories) {
    await prisma.category.upsert({
      where: { id: c.id },
      update: {},
      create: c,
    })
  }

  console.log('Seeding products...')

  const products: any[] = []

  // Helper to push products easily
  function add(
    catId: string,
    index: number,
    name: string,
    price: number,
    slug: string,
  ) {
    const idNum = products.length + 1
    const id = 'prd-' + idNum.toString().padStart(4, '0')

    products.push({
      id,
      name,
      price,
      categoryId: catId,
      seo_description: `${name} با کیفیت بالا و مناسب استفاده روزمره.`,
      seo_keywords: name.replace(/ /g, ', '),
      seo_title: name,
      slug,
    })
  }

  // ============================
  // CATEGORY 1 — MENS SOCKS
  // ============================
  const mensSockNames = [
    'جوراب مردانه نخی ساده',
    'جوراب مردانه ساق‌بلند کلاسیک',
    'جوراب مردانه اسپرت مشکی',
    'جوراب مردانه طرح لوزی',
    'جوراب مردانه ضدبو',
    'جوراب مردانه مچی نخی',
    'جوراب مردانه فری‌سایز',
    'جوراب مردانه ضخیم زمستانی',
    'جوراب مردانه طرح چهارخانه',
    'جوراب مردانه طرح مینیمال',
    'جوراب مردانه کالج ساده',
    'جوراب مردانه طرح راه‌راه',
    'جوراب مردانه اداری',
    'جوراب مردانه نخ‌پلی استر',
    'جوراب مردانه آنتی‌باکتریال',
    'جوراب مردانه کلاسیک طوسی',
    'جوراب مردانه ورزشی سبک',
  ]

  mensSockNames.forEach((name, i) =>
    add('cat-0001', i, name, 60000 + i * 3000, `mens-sock-${i + 1}`),
  )

  // ============================
  // CATEGORY 2 — WOMENS SOCKS
  // ============================
  const womensSockNames = [
    'جوراب زنانه فانتزی گلدار',
    'جوراب زنانه مچی رنگی',
    'جوراب زنانه ساق‌کوتاه طرح قلب',
    'جوراب زنانه نخی لطیف',
    'جوراب زنانه فانتزی حیوانات',
    'جوراب زنانه طرح خال‌خالی',
    'جوراب زنانه نازک تابستانی',
    'جوراب زنانه نیم‌قوزکی',
    'جوراب زنانه طرح میوه‌ای',
    'جوراب زنانه کالج ضدلغزش',
    'جوراب زنانه طرح فریم هندسی',
    'جوراب زنانه مچی اسپرت',
    'جوراب زنانه نخی طرح ساده',
    'جوراب زنانه گل‌بافت زمستانی',
    'جوراب زنانه طرح ابری',
    'جوراب زنانه فانتزی کارتونی',
    'جوراب زنانه طیفی رنگی',
  ]

  womensSockNames.forEach((name, i) =>
    add('cat-0002', i, name, 55000 + i * 2500, `womens-sock-${i + 1}`),
  )

  // ============================
  // CATEGORY 3 — SPORT SOCKS
  // ============================
  const sportSockNames = [
    'جوراب ورزشی دویدن',
    'جوراب ورزشی ضخیم کوهنوردی',
    'جوراب ورزشی فوتبال',
    'جوراب ورزشی بسکتبال',
    'جوراب ورزشی ضدتعریق',
    'جوراب ورزشی نخی تنفسی',
    'جوراب ورزشی کش‌دار محکم',
    'جوراب ورزشی سبک تمرینی',
    'جوراب ورزشی دوچرخه‌سواری',
    'جوراب ورزشی کف‌دار',
    'جوراب ورزشی روزمره',
    'جوراب ورزشی ساق‌بلند',
    'جوراب ورزشی تمرین مقاومتی',
    'جوراب ورزشی نیم‌قوزکی',
    'جوراب ورزشی ایروبیک',
    'جوراب ورزشی حرفه‌ای',
    'جوراب ورزشی آنتی‌باکتریال',
  ]

  sportSockNames.forEach((name, i) =>
    add('cat-0003', i, name, 70000 + i * 3000, `sport-sock-${i + 1}`),
  )

  // ============================
  // CATEGORY 4 — MENS GLOVES
  // ============================
  const mensGloves = [
    'دستکش مردانه بافتنی زمستانی',
    'دستکش مردانه اسپرت چرمی',
    'دستکش مردانه نخی تابستانی',
    'دستکش مردانه لمسی موبایل',
    'دستکش مردانه کوهنوردی',
    'دستکش مردانه طرح ساده',
    'دستکش مردانه گرم پشمی',
    'دستکش مردانه دوچرخه‌سواری',
    'دستکش مردانه موتورسواری',
    'دستکش مردانه عایق حرارتی',
    'دستکش مردانه نیمه‌پنجه',
    'دستکش مردانه ضدآب',
    'دستکش مردانه فنی',
    'دستکش مردانه مقاوم بالا',
    'دستکش مردانه چرمی کلاسیک',
    'دستکش مردانه سبک روزمره',
    'دستکش مردانه اسپرت مشکی',
  ]

  mensGloves.forEach((name, i) =>
    add('cat-0004', i, name, 120000 + i * 5000, `mens-glove-${i + 1}`),
  )

  // ============================
  // CATEGORY 5 — WOMENS GLOVES
  // ============================
  const womensGloves = [
    'دستکش زنانه بافتنی طرح گل',
    'دستکش زنانه لمسی موبایل',
    'دستکش زنانه فانتزی',
    'دستکش زنانه چرمی',
    'دستکش زنانه زمستانی گرم',
    'دستکش زنانه پشمی',
    'دستکش زنانه نخی تابستانی',
    'دستکش زنانه ضدلغزش',
    'دستکش زنانه طرح کلاسیک',
    'دستکش زنانه اسپرت',
    'دستکش زنانه طرح مینیمال',
    'دستکش زنانه مدل ظریف',
    'دستکش زنانه ضخیم',
    'دستکش زنانه گرم خزدار',
    'دستکش زنانه تمام انگشتی',
    'دستکش زنانه آنتی‌باکتریال',
    'دستکش زنانه مشکی ساده',
  ]

  womensGloves.forEach((name, i) =>
    add('cat-0005', i, name, 110000 + i * 4500, `womens-glove-${i + 1}`),
  )

  // ============================
  // CATEGORY 6 — WORK GLOVES
  // ============================
  const workGloves = [
    'دستکش کار ضدسایش',
    'دستکش کار ضدبرش',
    'دستکش کار صنعتی مقاوم',
    'دستکش کار لاستیکی',
    'دستکش کار ایمنی سنگین',
    'دستکش کار عایق حرارت',
    'دستکش کار مکانیکی',
    'دستکش کار کف‌چرم',
    'دستکش کار جوشکاری',
    'دستکش کار ساختمانی',
    'دستکش کار زرهی',
    'دستکش کار ضدآب',
    'دستکش کار سبک روزمره',
    'دستکش کار مقاوم بالا',
    'دستکش کار صنعتی دولایه',
    'دستکش کار تخصصی',
    'دستکش کار آنتی‌باکتریال',
  ]

  workGloves.forEach((name, i) =>
    add('cat-0006', i, name, 130000 + i * 5500, `work-glove-${i + 1}`),
  )

  // Insert all products
  for (const p of products) {
    await prisma.product.upsert({
      where: { id: p.id },
      update: {},
      create: p,
    })
  }

  console.log('Seeding completed. Total products:', products.length)
}

main()
  .then(() => prisma.$disconnect())
  .catch(async (e) => {
    console.error(e)
    await prisma.$disconnect()
    process.exit(1)
  })
